@using WebShop.Classes;

@{
    Layout = "~/Pages/Master.cshtml";

    //var product = new DataBase().GetDummyProducts(1).First();

    var repo = new ProductsRepository();

    int id;
    int.TryParse(Request.QueryString["id"], out id);
    var product = repo.GetProduct(id);
    
}


<div class="container" style="margin-top:100px">

    <h2>@product.Title</h2>

    <div class="row">
        <form class="col-lg-4" action="ListProducts.cshtml" method="post" enctype="multipart/form-data">
            <input type="hidden" name="action" value="update" />
            <input type="hidden" name="id" value="@product.Artnr">
            <div class="form-group">
                <label for="id">ID</label>
                <input type="text" class="form-control" value="@product.Artnr" disabled="disabled">
            </div>
            <div class="form-group">
                <label for="title">Titel:</label>
                <input type="text" class="form-control" name="title" value="@product.Title">
            </div>
            <div class="form-group">
                <label for="title">Inköpspris:</label>
                <input type="text" class="form-control" name="buyprice" value="@product.Price">
            </div>
            <div class="form-group">
                <label for="title">Pris:</label>
                <input type="text" class="form-control" name="retailprice" value="@product.Price">
            </div>
            <div class="form-group">
                <label>Bild:</label>
                <label class="btn btn-default btn-file">
                    Välj fil <input type="file" name="image" value="" style="display: none;">
                </label>
            </div>

            <input type="submit" class="btn btn-default" value="Uppdatera">
        </form>
    </div>
</div>